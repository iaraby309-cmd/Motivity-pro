<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Motivity AI - Ø§Ù„Ø¬Ù†Ø§Ø­ Ø§Ù„Ù…Ù‡Ù†ÙŠ Ù„Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„ØµÙˆØªÙŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root{ --motivity-red:#e60012; --tech-blue:#38bdf8; --bg:#0b0e14; }
        *{box-sizing:border-box; font-family:'Cairo', sans-serif; margin:0; padding:0}
        
        body{ background:var(--bg); color:#fff; display:flex; min-height:100vh; overflow-y: auto; }
        
        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        .sidebar{ 
            width:400px; 
            background:#161b22; 
            padding:25px; 
            border-left:4px solid var(--motivity-red); 
            height: 100vh; 
            position: sticky; 
            top: 0; 
            overflow-y: auto; 
            flex-shrink: 0;
        }

        .box{ background:#21262d; padding:18px; border-radius:12px; margin-bottom:15px; border:1px solid #30363d; }
        h3{ font-size:14px; color:var(--tech-blue); border-bottom:1px solid #444; padding-bottom:8px; margin-bottom:12px; font-weight:900; }
        label{ font-size:12px; color:#8b949e; display:block; margin-top:10px; }
        input, select{ width:100%; padding:12px; background:#0d1117; color:#fff; border:1px solid #444; border-radius:8px; margin-top:5px; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .main-view{ flex:1; padding: 20px; display:flex; flex-direction:column; align-items:center; background:#000; }
        canvas{ background:#050505; border:2px solid #333; border-radius:20px; max-width:100%; height: auto; box-shadow: 0 0 40px rgba(0,0,0,0.8); }

        .btn-smart{ background:var(--tech-blue); color:#000; width:100%; padding:15px; margin:10px 0; font-weight:900; border:none; border-radius:10px; cursor:pointer; transition: 0.3s;}
        .btn-report{ background:var(--motivity-red); color:#fff; width:100%; padding:18px; font-weight:900; border:none; border-radius:10px; cursor:pointer; transition: 0.3s;}
        .btn-reset{ background:#333; color:#ff4d4d; width:100%; padding:12px; margin-top:10px; font-weight:700; border:1px solid #444; border-radius:10px; cursor:pointer;}
        
        button:hover{ opacity: 0.8; transform: translateY(-2px); }

        /* ØµÙØ­Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ± */
        #reportPage{ 
            display:none; 
            position:absolute; 
            inset:0; 
            background:#fff; 
            z-index:9999; 
            color:#333; 
            overflow-y:auto; 
            padding:50px; 
        }
        .report-content{ max-width:1000px; margin:auto; padding-bottom: 100px; }
        .kpi-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(150px, 1fr)); gap:20px; margin:30px 0; }
        .kpi-item{ background:#f8f9fa; padding:20px; border-radius:12px; text-align:center; border-bottom: 4px solid var(--motivity-red); }
        .kpi-item h4{ font-size: 13px; color: #666; margin-bottom: 5px;}
        .kpi-item span{ font-size: 22px; font-weight: 900;}

        table{ width:100%; border-collapse:collapse; margin:30px 0; }
        th, td{ padding:15px; border:1px solid #eee; text-align:right; }
        th{ background:#f4f4f4; }
        
        .report-controls { display: flex; gap: 10px; margin-bottom: 20px; }
        .btn-print { background: #2ecc71; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; font-family: 'Cairo'; }

        @media print{ 
            .no-print{ display:none!important; } 
            #reportPage{ position:static; display:block; padding: 0; }
            body { background: white; }
        }
    </style>
</head>
<body>

<div class="sidebar no-print" id="ui-sidebar">
    <div style="text-align:center; margin-bottom:30px;">
        <h1 style="color:var(--motivity-red); font-size:28px; font-weight:900;">MOTIVITY AI</h1>
        <p style="color:#666; font-size:10px; letter-spacing: 2px;">Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„ØµÙˆØªÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</p>
    </div>
    
    <div class="box">
        <h3>ğŸŒ Ø¨ÙŠØ¦Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
        <label>Ù†ÙˆØ¹ Ø§Ù„ØªØ¶Ø§Ø±ÙŠØ³</label>
        <select id="env_type" onchange="draw()">
            <option value="grass">ğŸ€ Ø¹Ø´Ø¨ Ø·Ø¨ÙŠØ¹ÙŠ (Ø§Ù…ØªØµØ§Øµ Ø¹Ø§Ù„Ù)</option>
            <option value="sand">ğŸ–ï¸ ØªØ±Ø¨Ø© Ø±Ù…Ù„ÙŠØ© (ØªØ´ØªØª Ù†Ø§Ø¹Ù…)</option>
            <option value="stone">ğŸ§± Ù…Ù…Ø±Ø§Øª ØµØ®Ø±ÙŠØ© (Ø§Ù†Ø¹ÙƒØ§Ø³ Ø¹Ø§Ù„Ù)</option>
        </select>
        <label>Ø·ÙˆÙ„ Ø§Ù„Ù…Ù…Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ (Ù…ØªØ±)</label>
        <input type="number" id="area_len" value="100" oninput="draw()">
    </div>

    <div class="box">
        <h3>ğŸ”Š Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</h3>
        <label>Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„Ø³Ù…Ø§Ø¹Ø©</label>
        <select id="model_select" onchange="draw()">
            <option value="AG-601">AG-601 ÙØ·Ø±ÙŠØ© (30 ÙˆØ§Ø·)</option>
            <option value="AG-801">AG-801 ØµØ®Ø±ÙŠØ© (50 ÙˆØ§Ø·)</option>
        </select>
        <label>ÙƒÙ…ÙŠØ© Ø§Ù„ÙˆØ­Ø¯Ø§Øª</label>
        <input type="number" id="qty" value="12" oninput="draw()">
    </div>

    <button class="btn-smart" onclick="applySmartAI()">âœ¨ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø°ÙƒÙŠ</button>
    <button class="btn-report" onclick="openReport()">ğŸ“„ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙÙ†ÙŠ</button>
    <button class="btn-reset" onclick="resetAll()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØµÙ…ÙŠÙ…</button>
</div>

<div class="main-view no-print">
    <canvas id="gardenCanvas" width="1000" height="600"></canvas>
    <p style="margin-top:20px; color:#444; font-size: 13px;">* Ø§Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø¨ØµØ±ÙŠØ© ØªÙ…Ø«Ù„ Ø§Ù†ØªØ´Ø§Ø± Ø§Ù„Ù…ÙˆØ¬Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø§Ù…ØªØµØ§Øµ Ø§Ù„Ø³Ø·Ø­ÙŠ.</p>
</div>

<div id="reportPage">
    <div class="report-content">
        <div class="report-controls no-print">
            <button onclick="closeReport()" style="padding:10px 20px; cursor:pointer; font-family:'Cairo'">ğŸ”™ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªØµÙ…ÙŠÙ…</button>
            <button onclick="window.print()" class="btn-print">ğŸ’¾ Ø­ÙØ¸ ÙƒÙ€ PDF / Ø·Ø¨Ø§Ø¹Ø©</button>
        </div>
        
        <h1 style="color:var(--motivity-red); border-bottom:3px solid #eee; padding-bottom:10px">ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØªÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h1>
        
        <div id="techAnalysis" style="background:#f9f9f9; padding:25px; border-right:5px solid var(--tech-blue); margin:30px 0; line-height:1.8; font-size: 15px;"></div>

        <div class="kpi-grid" id="kpiBox"></div>

        <table>
            <thead>
                <tr style="background:#f4f4f4">
                    <th>Ø§Ù„Ù…Ø¹ÙŠØ§Ø± Ø§Ù„ÙÙ†ÙŠ</th>
                    <th>Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©</th>
                    <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                </tr>
            </thead>
            <tbody id="dataTable"></tbody>
        </table>

        <h3>Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø§Ù†ØªØ´Ø§Ø± Ø§Ù„ØµÙˆØªÙŠ (Ø®Ø±ÙŠØ·Ø© Ø¹Ù„ÙˆÙŠØ©):</h3>
        <img id="resImg" style="width:100%; border-radius:15px; border:1px solid #ddd; margin-top:15px">
        
        <div style="margin-top:50px; text-align:center; font-size:11px; color:#999; border-top:1px solid #eee; padding-top:20px;">
            Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ Ù…Ø®Ø±Ø¬ Ù‡Ù†Ø¯Ø³ÙŠ Ù…Ø¤ØªÙ…Øª Ø¨ÙˆØ§Ø³Ø·Ø© Motivity AI - Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ù…Ø¹Ø§ÙŠÙŠØ± IEC 60268-5 Ø§Ù„Ø¯ÙˆÙ„ÙŠØ©.
        </div>
    </div>
</div>

<script>
    const canvas = document.getElementById("gardenCanvas");
    const ctx = canvas.getContext("2d");

    function resetAll() {
        if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ ÙƒØ§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø­Ø§Ù„ÙŠØ©ØŸ")) {
            document.getElementById('area_len').value = 100;
            document.getElementById('qty').value = 12;
            document.getElementById('env_type').selectedIndex = 0;
            document.getElementById('model_select').selectedIndex = 0;
            draw();
        }
    }

    function draw() {
        const len = +document.getElementById('area_len').value;
        const q = +document.getElementById('qty').value || 1;
        const env = document.getElementById('env_type').value;
        const model = document.getElementById('model_select').value;
        
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "#050505";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        let themeColor = env === 'grass' ? "rgba(46, 204, 113," : env === 'sand' ? "rgba(212, 163, 115," : "rgba(236, 240, 241,";
        let bgColor = env === 'grass' ? "#1b4332" : env === 'sand' ? "#d4a373" : "#34495e";

        ctx.fillStyle = bgColor;
        ctx.globalAlpha = 0.2;
        ctx.fillRect(50, 350, 900, 60);
        ctx.globalAlpha = 1.0;

        const spacing = 900 / q;
        for(let i=0; i<q; i++) {
            let x = 50 + (i * spacing) + (spacing/2);
            let y = 380;

            for(let r=1; r<=3; r++) {
                ctx.beginPath();
                ctx.strokeStyle = themeColor + (0.5 - r*0.15) + ")";
                ctx.lineWidth = 2;
                ctx.arc(x, y, r * 35 * (env === 'stone' ? 1.3 : 1), 0, Math.PI * 2);
                ctx.stroke();
            }

            ctx.fillStyle = "#000";
            if(model === "AG-601") {
                ctx.beginPath(); ctx.arc(x, y-12, 12, Math.PI, 0); ctx.fill(); 
                ctx.fillRect(x-6, y-12, 12, 18);
            } else {
                ctx.fillStyle = "#444";
                ctx.beginPath();
                ctx.moveTo(x-15, y+5); ctx.lineTo(x+15, y+5); ctx.lineTo(x+10, y-12); ctx.lineTo(x-12, y-12);
                ctx.closePath(); ctx.fill();
            }
        }
    }

    function applySmartAI() {
        const len = +document.getElementById('area_len').value;
        const env = document.getElementById('env_type').value;
        let interval = env === 'grass' ? 8 : env === 'sand' ? 10 : 14;
        document.getElementById('qty').value = Math.ceil(len / interval);
        draw();
    }

    function openReport() {
        const q = +document.getElementById('qty').value;
        const len = +document.getElementById('area_len').value;
        const env = document.getElementById('env_type').value;
        const model = document.getElementById('model_select').value;
        const watt = model === 'AG-601' ? 30 : 50;

        let envAr = env === 'grass' ? 'Ø¹Ø´Ø¨ Ø·Ø¨ÙŠØ¹ÙŠ' : env === 'sand' ? 'ØªØ±Ø¨Ø© Ø±Ù…Ù„ÙŠØ©' : 'Ù…Ù…Ø± ØµØ®Ø±ÙŠ';

        document.getElementById('techAnalysis').innerHTML = `
            <h3>ğŸ”¬ Ø§Ù„Ù…Ø¨Ø±Ø±Ø§Øª Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„:</h3>
            <p>Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ù‚ØªØ±Ø­ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ù…Ø± Ø¨Ø·ÙˆÙ„ <b>${len} Ù…ØªØ±</b> ÙŠØ£Ø®Ø° ÙÙŠ Ø§Ù„Ø§Ø¹ØªØ¨Ø§Ø± Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„Ø§Ù…ØªØµØ§Øµ Ø§Ù„Ø®Ø§Øµ Ø¨Ø¨ÙŠØ¦Ø© <b>${envAr}</b>. 
            ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ØªØ¯Ø§Ø®Ù„ Ø§Ù„ÙØµÙˆØµ Ø¨Ù†Ø³Ø¨Ø© 30% Ù„Ø¶Ù…Ø§Ù† ØªØ¬Ø±Ø¨Ø© ØµÙˆØªÙŠØ© ØºØ§Ù…Ø±Ø© (Immersive Experience) ÙˆÙ…Ù†Ø¹ Ø­Ø¯ÙˆØ« Ù…Ù†Ø§Ø·Ù‚ Ù…ÙŠØªØ© ØµÙˆØªÙŠØ§Ù‹.</p>
            <p>Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø³Ù„Ø³Ù„Ø© <b>${model}</b> ÙŠØ¶Ù…Ù† Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ø¬ÙˆÙŠØ© Ø¨Ù…Ø¹ÙŠØ§Ø± IP66 Ù…Ø¹ Ø²Ø§ÙˆÙŠØ© ØªØ´ØªØª ÙˆØ§Ø³Ø¹Ø© ØªÙˆÙØ± Ù…Ø³ØªÙˆÙ‰ Ø¶ØºØ· ØµÙˆØªÙŠ (SPL) Ø«Ø§Ø¨Øª Ø¨ÙŠÙ† 90-94 Ø¯ÙŠØ³ÙŠØ¨Ù„.</p>
        `;

        document.getElementById('kpiBox').innerHTML = `
            <div class="kpi-item"><h4>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø¯Ø±Ø©</h4><span>${q*watt} ÙˆØ§Ø·</span></div>
            <div class="kpi-item"><h4>Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ø¨ÙŠÙ†ÙŠØ©</h4><span>${(len/q).toFixed(1)} Ù…</span></div>
            <div class="kpi-item"><h4>Ø§Ù„Ø¨ÙŠØ¦Ø©</h4><span>${envAr}</span></div>
            <div class="kpi-item"><h4>Ø§Ù„Ø­Ø§Ù„Ø©</h4><span>ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§ÙŠØ±Ø©</span></div>
        `;

        document.getElementById('dataTable').innerHTML = `
            <tr><td>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ù…Ù„ (Ø®Ø· 100 ÙÙˆÙ„Øª)</td><td>${q*watt} ÙˆØ§Ø·</td><td>âœ… Ù…Ø«Ø§Ù„ÙŠ</td></tr>
            <tr><td>Ø³Ø¹Ø© Ø§Ù„Ø£Ù…Ø¨Ù„ÙŠÙØ§ÙŠØ± Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</td><td>Ø¯ÙØ¹ Ø£Ø¯Ù†Ù‰ ${(q*watt*1.2).toFixed(0)} ÙˆØ§Ø·</td><td>âœ… Ø¢Ù…Ù†</td></tr>
            <tr><td>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¶ØºØ· Ø§Ù„ØµÙˆØªÙŠ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù</td><td>94 Ø¯ÙŠØ³ÙŠØ¨Ù„</td><td>âœ… Ø¯Ù‚ÙŠÙ‚</td></tr>
            <tr><td>Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„ØªØ±Ø¯Ø¯ÙŠØ©</td><td>60Hz - 18kHz</td><td>âœ… Hi-Fi</td></tr>
        `;

        document.getElementById('resImg').src = canvas.toDataURL();
        document.getElementById('reportPage').style.display = "block";
        window.scrollTo(0,0);
    }

    function closeReport() { document.getElementById('reportPage').style.display = "none"; }
    window.onload = draw;
</script>
</body>
</html>
