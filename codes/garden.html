
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Motivity AI - Garden Engineering Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root{ --motivity-red:#e60012; --garden-green:#2ecc71; --tech-blue:#38bdf8; --bg:#0d1117; }
        *{box-sizing:border-box; font-family:'Cairo', sans-serif; margin:0; padding:0}
        body{background:var(--bg); color:#fff; display:flex; height:100vh; overflow:hidden}
        .sidebar{width:460px; background:#161b22; padding:20px; overflow-y:auto; border-left:4px solid var(--motivity-red); flex-shrink:0}
        .box{background:#21262d; padding:15px; border-radius:10px; margin-bottom:12px; border:1px solid #30363d}
        h3{font-size:14px; color:var(--tech-blue); border-bottom:1px solid #444; padding-bottom:5px; margin-bottom:10px}
        label{font-size:11px; color:#8b949e; display:block; margin-top:8px}
        input, select{width:100%; padding:10px; background:#0d1117; color:#fff; border:1px solid #444; border-radius:6px; margin-top:4px}
        .main-view{flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; background:#000}
        canvas{background:#0a0a0a; border:1px solid #333; border-radius:15px; width:95%; height:75vh}
        .btn-smart{background:var(--tech-blue); color:#000; width:100%; padding:12px; border:none; border-radius:6px; font-weight:900; cursor:pointer; margin:10px 0}
        .btn-report{background:var(--motivity-red); color:#fff; width:100%; padding:15px; border:none; border-radius:8px; font-weight:900; cursor:pointer}
        #reportPage{display:none; position:fixed; inset:0; background:#fff; z-index:9999; color:#333; overflow-y:auto; padding:40px}
        .report-content{max-width:1100px; margin:auto; padding:30px; border:1px solid #ddd; background:#fff}
        @media print { .no-print { display: none !important; } #reportPage { position: static; display: block; } }
    </style>
</head>
<body>

<div class="sidebar no-print" id="ui-sidebar">
    <h2 style="color:var(--motivity-red); text-align:center; margin-bottom:15px">Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªØºØ·ÙŠØ© Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©</h2>
    
    <div class="box">
        <h3>ğŸ“ Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ù…Ø³Ø§Ø±</h3>
        <label>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø·ÙˆÙ„ Ø§Ù„Ø­Ø¯ÙŠÙ‚Ø© (Ù…ØªØ±)</label>
        <input type="number" id="area_len" value="100" oninput="draw()">
        
        <label>Ù†Ø·Ø§Ù‚ ØªØºØ·ÙŠØ© Ø§Ù„Ø³Ù…Ø§Ø¹Ø© Ø§Ù„ÙˆØ§Ø­Ø¯Ø© (Ù†ØµÙ Ø§Ù„Ù‚Ø·Ø± Ø¨Ù…ØªØ±)</label>
        <select id="coverage_radius" onchange="draw()">
            <option value="5">ØªØºØ·ÙŠØ© Ù‚ÙˆÙŠØ© (5 Ù…ØªØ± Ù„ÙƒÙ„ Ø¬Ù‡Ø©)</option>
            <option value="8" selected>ØªØºØ·ÙŠØ© Ù…ØªÙˆØ³Ø·Ø© (8 Ù…ØªØ± Ù„ÙƒÙ„ Ø¬Ù‡Ø©)</option>
            <option value="12">ØªØºØ·ÙŠØ© Ù†Ø§Ø¹Ù…Ø© (12 Ù…ØªØ± Ù„ÙƒÙ„ Ø¬Ù‡Ø©)</option>
        </select>
    </div>

    <div class="box">
        <h3>ğŸ”Š Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</h3>
        <label>Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯</label>
        <input type="text" value="AG-601 Lawn Speaker" readonly style="color:var(--garden-green); font-weight:bold">
        <label>Ø§Ù„Ø¹Ø¯Ø¯ (Ø³ÙŠØªÙ… Ø§Ù‚ØªØ±Ø§Ø­Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)</label>
        <input type="number" id="qty" value="7">
    </div>

    <button class="btn-smart" onclick="applySmartLogic()">âœ¨ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ Ø§Ù„Ø£Ù…Ø«Ù„</button>
    <button class="btn-report" onclick="openReport()">ğŸ“„ ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØºØ·ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©</button>
</div>

<div class="main-view no-print">
    <canvas id="gardenCanvas"></canvas>
    <p style="color:#555; margin-top:10px">Ø§Ù„Ù…Ø®Ø·Ø· Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ: Ø§Ù„Ø¯ÙˆØ§Ø¦Ø± Ø§Ù„Ù…Ù„ÙˆÙ†Ø© ØªÙ…Ø«Ù„ Ù†Ø·Ø§Ù‚ Ø§Ù†ØªØ´Ø§Ø± Ø§Ù„ØµÙˆØª</p>
</div>

<div id="reportPage">
    <div class="report-content">
        <div class="no-print" style="margin-bottom:25px">
            <button onclick="closeReport()" style="padding:10px 20px; cursor:pointer">ğŸ”™ Ø±Ø¬ÙˆØ¹ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„</button>
            <button onclick="window.print()" style="background:var(--motivity-red); color:#fff; border:none; padding:10px 20px; border-radius:5px; cursor:pointer; margin-right:10px">ğŸ’¾ Ø­ÙØ¸ PDF</button>
        </div>
        <h1 style="color:var(--motivity-red)">ØªÙ‚Ø±ÙŠØ± ØªØºØ·ÙŠØ© Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© (Landscape)</h1>
        <div id="smartReasoning" style="background:#f9f9f9; padding:25px; border-right:6px solid var(--garden-green); margin:20px 0; line-height:1.7"></div>
        <table id="resTable" style="width:100%; border-collapse:collapse; margin-bottom:20px"></table>
        <h3>Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø§Ù†ØªØ´Ø§Ø± Ø§Ù„ØµÙˆØªÙŠ:</h3>
        <img id="resImg" style="width:100%; border:1px solid #eee; margin-top:10px">
    </div>
</div>

<script>
    const canvas = document.getElementById('gardenCanvas');
    const ctx = canvas.getContext('2d');

    function draw() {
        const len = parseInt(document.getElementById('area_len').value) || 0;
        const q = parseInt(document.getElementById('qty').value) || 1;
        const radius = parseInt(document.getElementById('coverage_radius').value);
        
        canvas.width = 1200; canvas.height = 700;
        ctx.fillStyle = "#050505"; ctx.fillRect(0,0,1200,700);
        
        // Ø±Ø³Ù… Ø§Ù„Ø¹Ø´Ø¨
        ctx.fillStyle = "#1a3c1a"; ctx.fillRect(50, 400, 1100, 200);

        const spacing = 1000 / q;
        const scale = 1000 / len; // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…ØªØ± Ø¥Ù„Ù‰ Ø¨ÙƒØ³Ù„

        for(let i=0; i<q; i++) {
            let x = 100 + (i * spacing);
            
            // Ø±Ø³Ù… Ù†Ø·Ø§Ù‚ Ø§Ù„ØµÙˆØª (Ø´ÙØ§Ù)
            ctx.fillStyle = "rgba(46, 204, 113, 0.2)";
            ctx.beginPath();
            ctx.arc(x, 400, radius * scale * 2, 0, Math.PI*2);
            ctx.fill();
            
            // Ø±Ø³Ù… Ø§Ù„Ø³Ù…Ø§Ø¹Ø© AG-601
            ctx.fillStyle = "#2ecc71";
            ctx.beginPath(); ctx.arc(x, 400, 15, Math.PI, 0); ctx.fill();
            ctx.fillStyle = "#1e8449"; ctx.fillRect(x-8, 400, 16, 15);
        }
    }

    function applySmartLogic() {
        const len = parseInt(document.getElementById('area_len').value);
        const radius = parseInt(document.getElementById('coverage_radius').value);
        
        // Ù‡Ù†Ø¯Ø³ÙŠØ§Ù‹: Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø³Ù…Ø§Ø¹Ø© ÙˆØ£Ø®Ø±Ù‰ ÙŠØ¬Ø¨ Ø£Ù„Ø§ ØªØªØ¬Ø§ÙˆØ² Ø¶Ø¹Ù Ù†ØµÙ Ø§Ù„Ù‚Ø·Ø± Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªØ¯Ø§Ø®Ù„
        const optimalSpacing = radius * 1.5; 
        const suggestedQty = Math.ceil(len / optimalSpacing);
        
        document.getElementById('qty').value = suggestedQty;
        draw();
    }

    function openReport() {
        const len = document.getElementById('area_len').value;
        const q = document.getElementById('qty').value;
        const radius = document.getElementById('coverage_radius').value;
        const spacing = (len / q).toFixed(1);

        let reason = `<h3>ğŸ“ Ø§Ù„ØªØ¹Ù„ÙŠÙ„ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ø³Ø§Ø­Ø§Øª Ø§Ù„Ø®Ø¶Ø±Ø§Ø¡:</h3>`;
        reason += `<p>â€¢ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø·ÙˆÙ„ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù (${len} Ù…ØªØ±)ØŒ ØªÙ… Ø­Ø³Ø§Ø¨ ØªÙˆØ²ÙŠØ¹ Ø³Ù…Ø§Ø¹Ø§Øª <strong>AG-601</strong> Ù„Ø¶Ù…Ø§Ù† ØªØºØ·ÙŠØ© Ù…Ø³ØªÙ…Ø±Ø© Ø¯ÙˆÙ† Ø§Ù†Ù‚Ø·Ø§Ø¹.</p>`;
        reason += `<p>â€¢ <strong>Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ø¨ÙŠÙ†ÙŠØ© (Spacing):</strong> ØªÙ… ÙˆØ¶Ø¹ Ø³Ù…Ø§Ø¹Ø© ÙƒÙ„ ${spacing} Ù…ØªØ±ØŒ Ù…Ù…Ø§ ÙŠØ¶Ù…Ù† ØªØ¯Ø§Ø®Ù„ Ø§Ù„Ø¯ÙˆØ§Ø¦Ø± Ø§Ù„ØµÙˆØªÙŠØ© Ø¨Ù†Ø³Ø¨Ø© ØªØ³Ù…Ø­ Ø¨ØªØ¹ÙˆÙŠØ¶ Ø§Ù„ÙÙ‚Ø¯ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ Ù„Ù„ØµÙˆØª ÙÙŠ Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ù…ÙØªÙˆØ­Ø©.</p>`;
        reason += `<p>â€¢ <strong>Ù†Ø·Ø§Ù‚ Ø§Ù„ØªØ±Ø¯Ø¯:</strong> Ù…ÙˆØ¯ÙŠÙ„ AG-601 ÙŠØºØ·ÙŠ Ø²Ø§ÙˆÙŠØ© 360 Ø¯Ø±Ø¬Ø©ØŒ Ù…Ù…Ø§ ÙŠÙ‚Ù„Ù„ Ù…Ù† Ø¸Ù‡ÙˆØ± "Ø§Ù„Ø¨Ù‚Ø¹ Ø§Ù„ØµØ§Ù…ØªØ©" Ø¹Ù†Ø¯ ØªÙ†Ù‚Ù„ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± ÙÙŠ Ø§Ù„Ø­Ø¯ÙŠÙ‚Ø©.</p>`;
        
        document.getElementById('smartReasoning').innerHTML = reason;
        document.getElementById('resTable').innerHTML = `
            <tr style="background:#eee"><th>Ø§Ù„Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ</th><th>Ø§Ù„Ù‚ÙŠÙ…Ø©</th></tr>
            <tr><td>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø·ÙˆÙ„ Ø§Ù„Ù…Ø³Ø§Ø­Ø©</td><td>${len} Ù…ØªØ±</td></tr>
            <tr><td>Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‚ØªØ±Ø­ Ù‡Ù†Ø¯Ø³ÙŠØ§Ù‹</td><td>${q} Ø³Ù…Ø§Ø¹Ø§Øª</td></tr>
            <tr><td>Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† ÙƒÙ„ Ø³Ù…Ø§Ø¹Ø© ÙˆØ£Ø®Ø±Ù‰</td><td>${spacing} Ù…ØªØ±</td></tr>
            <tr><td>Ù†ØµÙ Ù‚Ø·Ø± Ø§Ù„ØªØºØ·ÙŠØ© Ù„ÙƒÙ„ ÙˆØ­Ø¯Ø©</td><td>${radius} Ù…ØªØ±</td></tr>
        `;
        
        document.getElementById('resImg').src = canvas.toDataURL();
        document.getElementById('reportPage').style.display = 'block';
        document.getElementById('ui-sidebar').style.display = 'none';
    }

    function closeReport() {
        document.getElementById('reportPage').style.display = 'none';
        document.getElementById('ui-sidebar').style.display = 'block';
    }

    window.onload = draw;
</script>
</body>
</html>