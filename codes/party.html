
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Motivity AI - Ultimate Engineering Suite</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root{ --motivity-red:#e60012; --tech-blue:#38bdf8; --bg:#0d1117; }
        *{box-sizing:border-box; font-family:'Cairo', sans-serif; margin:0; padding:0}
        body{background:var(--bg); color:#fff; display:flex; height:100vh; overflow:hidden}
        .sidebar{width:420px; background:#161b22; padding:20px; overflow-y:auto; border-left:3px solid var(--motivity-red); flex-shrink:0}
        .box{background:#21262d; padding:15px; border-radius:10px; margin-bottom:12px; border:1px solid #30363d}
        h3{font-size:14px; color:var(--tech-blue); margin-bottom:8px; border-bottom:1px solid #444}
        label{font-size:11px; color:#8b949e; display:block; margin-top:8px}
        input, select{width:100%; padding:8px; background:#0d1117; color:#fff; border:1px solid #30363d; border-radius:6px; margin-top:4px}
        .main-view{flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:10px; background:#000}
        canvas{background:#050505; border:1px solid #444; border-radius:10px; width:95%; height:auto; max-height:85vh}
        button{padding:12px; border:none; border-radius:8px; cursor:pointer; width:100%; font-weight:700; margin-top:10px}
        .btn-smart{background:var(--tech-blue); color:#000; border:2px solid #fff}
        .btn-report{background:var(--motivity-red); color:#fff}
        #reportPage{display:none; position:fixed; inset:0; background:#fff; z-index:9999; color:#333; overflow-y:auto; padding:40px}
        .report-content{max-width:950px; margin:auto; border:2px solid #ddd; padding:30px}
        table{width:100%; border-collapse:collapse; margin:20px 0}
        th, td{border:1px solid #ddd; padding:10px; text-align:right}
        .status-box{padding:15px; border-radius:8px; margin-bottom:20px; font-weight:bold; text-align:center}
        .ok{background:#dcfce7; color:#166534; border:1px solid #b9f6ca}
        .low{background:#fee2e2; color:#991b1b; border:1px solid #ffcdd2}
    </style>
</head>
<body>

<div class="sidebar no-print">
    <h2 style="color:var(--motivity-red); text-align:center; margin-bottom:15px">MOTIVITY AI DESIGNER</h2>
    
    <div class="box">
        <h3>ğŸ“ Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ø§Ø±ØªÙØ§Ø¹</h3>
        <div style="display:flex; gap:5px">
            <div><label>Ø§Ù„Ø·ÙˆÙ„</label><input type="number" id="room_l" value="40" oninput="draw()"></div>
            <div><label>Ø§Ù„Ø¹Ø±Ø¶</label><input type="number" id="room_w" value="25" oninput="draw()"></div>
            <div><label>Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ H</label><input type="number" id="room_h" value="8" oninput="draw()"></div>
        </div>
        <div style="display:flex; gap:5px">
            <div><label>Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³Ø±Ø­</label><input type="number" id="stage_w" value="15" oninput="draw()"></div>
            <div><label>Ø¹Ù…Ù‚ Ø§Ù„Ù…Ø³Ø±Ø­</label><input type="number" id="stage_d" value="6" oninput="draw()"></div>
        </div>
    </div>

    <button class="btn-smart" onclick="applySmart()">âœ¨ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­ Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ø´Ø§Ù…Ù„</button>

    <div class="box">
        <h3>ğŸ”Š Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Motivity All Series)</h3>
        <label>Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</label>
        <select id="main_pa" onchange="draw()">
            <optgroup label="Line Array Series">
                <option value="MLA212">MLA212 (Dual 12")</option>
                <option value="MLA210">MLA210 (Dual 10")</option>
                <option value="M10-LA">M10-LA (Compact)</option>
            </optgroup>
            <optgroup label="Point Source & Stadium">
                <option value="DB-25 3G">DB-25 3G High Performance</option>
                <option value="MTL-700 3G">MTL-700 3G Stadium</option>
                <option value="HD-15A">HD-15A Active</option>
            </optgroup>
        </select>
        <label>Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ù…Ø§Ø¹Ø§Øª</label><input type="number" id="main_qty" value="12" oninput="draw()">
        
        <label>Ù†Ø¸Ø§Ù… Ø§Ù„ØµØ¨ÙˆÙØ±</label>
        <select id="sub_pa" onchange="draw()">
            <option value="QX-218">QX-218 Dual 18"</option>
            <option value="QX-118">QX-118 Single 18"</option>
            <option value="M-25BW">M-25BW Sub</option>
            <option value="DB-218">DB-218 3G</option>
        </select>
        <label>Ø¹Ø¯Ø¯ Ø§Ù„ØµØ¨Ø§Øª</label><input type="number" id="sub_qty" value="8" oninput="draw()">
    </div>

    <div class="box">
        <h3>ğŸ“¢ Ø§Ù„Ù…ÙˆÙ†ÙŠØªÙˆØ± ÙˆØ§Ù„Ø¬ÙˆØ§Ù†Ø¨</h3>
        <label>Ø§Ù„Ù…ÙˆÙ†ÙŠØªÙˆØ±</label>
        <select id="mon_pa" onchange="draw()">
            <option value="DB-15M 3G">DB-15M 3G Monitor</option>
            <option value="MTL-152">MTL-152 Monitor</option>
            <option value="HD312A">HD312A Active</option>
        </select>
        <label>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆÙ†ÙŠØªÙˆØ±</label><input type="number" id="mon_qty" value="4" oninput="draw()">
        
        <label>Ø³Ù…Ø§Ø¹Ø§Øª Ø§Ù„Ø¬ÙˆØ§Ù†Ø¨</label>
        <select id="side_pa" onchange="draw()">
            <option value="HD315A">HD315A Side Fill</option>
            <option value="DB-25 NW">DB-25 NW Neodymium</option>
            <option value="MTL-700 3G">MTL-700 3G Side</option>
        </select>
        <label>Ø¹Ø¯Ø¯ Ø§Ù„Ø¬ÙˆØ§Ù†Ø¨</label><input type="number" id="side_qty" value="4" oninput="draw()">
    </div>

    <button class="btn-report" onclick="openReport()">ğŸ“„ Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙÙ†ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</button>
</div>

<div class="main-view no-print">
    <canvas id="mainCanvas"></canvas>
    <div style="margin-top:5px; font-size:12px; color:#8b949e">Ø§Ù„Ø±Ø³Ù… ÙŠÙˆØ²Ø¹ Ø§Ù„Ø³Ù…Ø§Ø¹Ø§Øª Ø¨Ø´ÙƒÙ„ Ù…Ù†ÙØ±Ø¯ ÙˆØªÙ„Ù‚Ø§Ø¦ÙŠ</div>
</div>

<div id="reportPage">
    <div class="report-content">
        <button onclick="document.getElementById('reportPage').style.display='none'" style="float:left; background:#444; color:#fff; padding:8px 15px; border-radius:5px">â¬…ï¸ Ø±Ø¬ÙˆØ¹ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„</button>
        <h1 style="color:var(--motivity-red); text-align:center">Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ - MOTIVITY AI</h1>
        <hr style="margin:20px 0">
        <div id="statusAnalysis"></div>
        <div id="roomSummary" style="margin-bottom:15px; font-weight:bold"></div>
        <table id="boqTable"></table>
        <div style="background:#f0f7ff; padding:20px; border-radius:10px; margin-top:20px">
            <h3 style="color:#0056b3">ğŸ”Œ Ù…Ù„Ø­Ù‚Ø§Øª Motivity Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</h3>
            <p>â€¢ <b>Processors:</b> Motivity DSP 4.8 / DSP 2.6</p>
            <p>â€¢ <b>Power Management:</b> Motivity PS-10 Sequence Controller</p>
            <p>â€¢ <b>Connectivity:</b> Motivity High-Fidelity OFC Cables</p>
            <p>â€¢ <b>Hardware:</b> Motivity Fly Bars & Customized Rigging Systems</p>
        </div>
        <div style="text-align:center; margin-top:20px">
            <h4>Ø§Ù„Ù…Ø®Ø·Ø· Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ Ù„Ù„ØªÙˆØ²ÙŠØ¹</h4>
            <img id="reportImg" style="width:100%; border:1px solid #ccc; border-radius:10px">
        </div>
        <button class="btn-report" onclick="window.print()" style="margin-top:20px">Ø­ÙØ¸ ÙƒÙ€ PDF</button>
    </div>
</div>

<script>
    const canvas = document.getElementById('mainCanvas');
    const ctx = canvas.getContext('2d');

    function applySmart() {
        const L = parseFloat(document.getElementById('room_l').value);
        const H = parseFloat(document.getElementById('room_h').value);
        document.getElementById('main_qty').value = Math.ceil((L * H) / 25);
        document.getElementById('sub_qty').value = Math.ceil(document.getElementById('main_qty').value / 1.5);
        document.getElementById('mon_qty').value = 4;
        document.getElementById('side_qty').value = Math.ceil(L / 8);
        draw();
    }

    function draw() {
        const L = parseFloat(document.getElementById('room_l').value) || 10;
        const W = parseFloat(document.getElementById('room_w').value) || 10;
        const sW = parseFloat(document.getElementById('stage_w').value) || 0;
        const sD = parseFloat(document.getElementById('stage_d').value) || 0;

        canvas.width = 1100; canvas.height = 650;
        const scale = Math.min(canvas.width/L, canvas.height/W) * 0.9;
        const oX = (canvas.width - L*scale)/2;
        const oY = (canvas.height - W*scale)/2;

        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.fillStyle = "#050505"; ctx.fillRect(oX, oY, L*scale, W*scale);
        ctx.strokeStyle = "#444"; ctx.strokeRect(oX, oY, L*scale, W*scale);

        const stX = oX + (L*scale - sW*scale)/2;
        ctx.strokeStyle = "#e60012"; ctx.lineWidth = 3;
        ctx.strokeRect(stX, oY, sW*scale, sD*scale);

        // Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
        const mq = parseInt(document.getElementById('main_qty').value);
        ctx.fillStyle = "#38bdf8";
        for(let i=0; i<Math.ceil(mq/2); i++) {
            ctx.fillRect(stX - 25, oY + (i*15) + 5, 20, 12);
            ctx.fillRect(stX + sW*scale + 5, oY + (i*15) + 5, 20, 12);
        }

        // Ø§Ù„Ø¬ÙˆØ§Ù†Ø¨ Ø§Ù„Ù…ØªØ¨Ø§Ø¹Ø¯Ø©
        const sdq = parseInt(document.getElementById('side_qty').value);
        ctx.fillStyle = "#facc15";
        const sideSpacing = (W * scale) / (Math.ceil(sdq/2) + 1);
        for(let i=1; i<=Math.ceil(sdq/2); i++) {
            ctx.fillRect(oX + 5, oY + (i * sideSpacing), 12, 18);
            ctx.fillRect(oX + L*scale - 17, oY + (i * sideSpacing), 12, 18);
        }

        // ØµØ¨Ø§Øª ÙˆÙ…ÙˆÙ†ÙŠØªÙˆØ±
        const sq = parseInt(document.getElementById('sub_qty').value);
        ctx.fillStyle = "#e60012";
        for(let i=0; i<sq; i++) ctx.fillRect(stX + (i * (sW*scale/sq)) + 2, oY + sD*scale + 10, 15, 15);
        
        const monq = parseInt(document.getElementById('mon_qty').value);
        ctx.fillStyle = "#4ade80";
        for(let i=0; i<monq; i++) ctx.fillRect(stX + (i * (sW*scale/monq)) + 10, oY + sD*scale - 15, 15, 8);
    }

    function openReport() {
        const L = parseFloat(document.getElementById('room_l').value);
        const H = parseFloat(document.getElementById('room_h').value);
        const mq = parseInt(document.getElementById('main_qty').value);
        
        const isSafe = mq >= (L * H / 30);
        document.getElementById('statusAnalysis').innerHTML = isSafe ? 
            `<div class="status-box ok">âœ… Ø§Ù„Ù†Ø¸Ø§Ù… ÙƒØ§ÙÙ: ØªÙ… Ù…Ø±Ø§Ø¹Ø§Ø© Ø·ÙˆÙ„ Ø§Ù„Ù‚Ø§Ø¹Ø© (${L}Ù…) ÙˆØ§Ù„Ø§Ø±ØªÙØ§Ø¹ (${H}Ù…) Ù„ØªØ£Ù…ÙŠÙ† Ø¶ØºØ· ØµÙˆØªÙŠ Ù…Ø«Ø§Ù„ÙŠ.</div>` :
            `<div class="status-box low">âš ï¸ ÙŠØ­ØªØ§Ø¬ ØªØ¯Ø¹ÙŠÙ…: Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ ÙˆØ§Ù„Ø·ÙˆÙ„ ÙŠØªØ·Ù„Ø¨Ø§Ù† Ø²ÙŠØ§Ø¯Ø© ÙÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ù…Ø§Ø¹Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ø¶Ù…Ø§Ù† ÙˆØµÙˆÙ„ Ø§Ù„ØµÙˆØª Ø¨ÙˆØ¶ÙˆØ­ Ù„Ù„Ø®Ù„Ù.</div>`;

        document.getElementById('roomSummary').innerText = `Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹: Ø§Ù„Ø·ÙˆÙ„ ${L}Ù… | Ø§Ù„Ø¹Ø±Ø¶ ${document.getElementById('room_w').value}Ù… | Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ ${H}Ù…`;
        document.getElementById('boqTable').innerHTML = `
            <tr style="background:#f4f4f4"><th>Ø§Ù„ØµÙ†Ù</th><th>Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th></tr>
            <tr><td>Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</td><td>${document.getElementById('main_pa').value}</td><td>${mq}</td></tr>
            <tr><td>Ø§Ù„ØµØ¨ÙˆÙØ±</td><td>${document.getElementById('sub_pa').value}</td><td>${document.getElementById('sub_qty').value}</td></tr>
            <tr><td>Ø§Ù„Ù…ÙˆÙ†ÙŠØªÙˆØ±Ø§Øª</td><td>${document.getElementById('mon_pa').value}</td><td>${document.getElementById('mon_qty').value}</td></tr>
            <tr><td>Ø§Ù„Ø¬ÙˆØ§Ù†Ø¨</td><td>${document.getElementById('side_pa').value}</td><td>${document.getElementById('side_qty').value}</td></tr>
        `;
        document.getElementById('reportImg').src = canvas.toDataURL();
        document.getElementById('reportPage').style.display = 'block';
    }
    window.onload = draw;
</script>
</body>
</html>